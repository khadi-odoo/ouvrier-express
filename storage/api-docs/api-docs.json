{
    "openapi": "3.0.0",
    "info": {
        "title": "Ouvrier-Express",
        "description": "Application de gestion de relation prestataire-client",
        "version": "1.0.0"
    },
    "paths": {
        "/api/login": {
            "post": {
                "tags": [
                    "Connexion"
                ],
                "summary": "Authentifier un utilisateur",
                "operationId": "44212a9096e4b09358281e9ec8a0701d",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Utilisateur connecté avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "nom": {
                                                    "type": "string"
                                                },
                                                "prenom": {
                                                    "type": "string"
                                                },
                                                "tel": {
                                                    "type": "string"
                                                },
                                                "adress": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "role": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Erreur d'authentification"
                    }
                }
            }
        },
        "/api/register": {
            "post": {
                "tags": [
                    "Inscription"
                ],
                "summary": "Ajouter un utilisateur",
                "operationId": "a718f172ff3ac464d723835815f8fb57",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "nom": {
                                        "type": "string"
                                    },
                                    "prenom": {
                                        "type": "string"
                                    },
                                    "tel": {
                                        "type": "string"
                                    },
                                    "adress": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "role": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Utilisateur ajouté avec succès"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                }
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Déconnexion"
                ],
                "summary": "Se Déconnecter",
                "operationId": "79854151e609bd20032aa5aa4d5a35c0",
                "responses": {
                    "200": {
                        "description": "Utilisateur déconnecté avec succès"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/refresh": {
            "post": {
                "tags": [
                    "Connexion"
                ],
                "summary": "Rafraîchir le token d'authentification",
                "operationId": "7d5da2870d3eba95cdd67878ab20da3a",
                "responses": {
                    "200": {
                        "description": "Token rafraîchi avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Erreur d'authentification"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/listeCategorie": {
            "get": {
                "tags": [
                    "Catégorie de service"
                ],
                "summary": "liste de toutes les catégories de service",
                "operationId": "efc9b1f75c7b6edb88eede2e43004f35",
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/ajouterCategorie": {
            "post": {
                "tags": [
                    "Catégorie de service"
                ],
                "summary": "Ajouter une catégorie de service",
                "operationId": "b19e4cac34b494bfb9d92f020592cc3e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "libelleCategorie": {
                                        "type": "string"
                                    },
                                    "image": {
                                        "description": "Fichier de photo",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Catégorie de service ajoutée avec succées"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/affichCategorie/{id}": {
            "get": {
                "tags": [
                    "Catégorie de service"
                ],
                "summary": "Details d'une categorie de service",
                "operationId": "6c1af176b8e393b3eed687d026d4e4e4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la catégorie à afficher",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès"
                    },
                    "401": {
                        "description": "Non autorisé"
                    }
                }
            }
        },
        "/api/modifCategorie/{categorieService}": {
            "post": {
                "tags": [
                    "Catégorie de service"
                ],
                "summary": "Modificier une catégorie de service",
                "operationId": "7b480728ed0e912f45443fb0031c57bf",
                "parameters": [
                    {
                        "name": "categorieService",
                        "in": "path",
                        "description": "Modifier la catégorie à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "libelleCategorie": {
                                        "type": "string"
                                    },
                                    "image": {
                                        "description": "Fichier de photo",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "desription": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Catégorie de service modifiée avec succées"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/supprimCategorie/{id}": {
            "post": {
                "tags": [
                    "Catégorie de service"
                ],
                "summary": "Supprimer une catégorie de service",
                "operationId": "96f7d5e02562e935bae62dd1bc3079d4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Suppression d'une catégorie à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/listeComment": {
            "get": {
                "tags": [
                    "Commentaire"
                ],
                "summary": "liste de toutes les commentaires",
                "operationId": "03a59617b5168a7efc58a10679d5f1a2",
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/ajoutComment": {
            "post": {
                "tags": [
                    "Commentaire"
                ],
                "summary": "Ajouter un commentaire sur un prestataire",
                "operationId": "2ed4cc14cf97335461f00c77388cd6d3",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "client_id": {
                                        "type": "integer"
                                    },
                                    "prestation_id": {
                                        "type": "integer"
                                    },
                                    "statut_evaluation": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Commentaire ajoutée avec succés"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/aaffichComment/{id}": {
            "get": {
                "tags": [
                    "Commentaire"
                ],
                "summary": "Afficher un commentaire",
                "operationId": "aeb3ae0e87d0b0ef9b267db2f57e110f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id du commentaire à afficher",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès"
                    },
                    "401": {
                        "description": "Non autorisé"
                    }
                }
            }
        },
        "/api/modifComment/{commentaire}": {
            "post": {
                "tags": [
                    "Commentaire"
                ],
                "summary": "Modificier un commentaire",
                "operationId": "f3d96d167da41e509ad732e7df979f65",
                "parameters": [
                    {
                        "name": "commentaire",
                        "in": "path",
                        "description": "Modifier un commentaire à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "statut_evaluation": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Commentaire modifié avec succées"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/supprimComment/{id}": {
            "post": {
                "tags": [
                    "Commentaire"
                ],
                "summary": "Supprimer un commentaire",
                "operationId": "ac60d168f8954c9cc4a2e41c8ac9b584",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Supprimer un commentaire à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/listeMail": {
            "get": {
                "tags": [
                    "Contact"
                ],
                "summary": "liste des messages",
                "operationId": "9a0197a7a76d064dbf526917f6434e53",
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/ajoutMail": {
            "post": {
                "tags": [
                    "Contact"
                ],
                "summary": "Envoyer un mail",
                "operationId": "7401b3040c2c0463cb6f28950bf59016",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    },
                                    "message": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Message envoyé avec succés"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                }
            }
        },
        "/api/supprimMail/{id}": {
            "post": {
                "tags": [
                    "Contact"
                ],
                "summary": "Annuler l'envoi",
                "operationId": "575e2764954c4a49848d183198c14716",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Annuler l'envoi de mail à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/listePrestation": {
            "get": {
                "tags": [
                    "Prestation Client"
                ],
                "summary": "liste des prestations",
                "operationId": "b3293b18a41e2d54b39f5a185e5bf145",
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/ajoutPrestation": {
            "post": {
                "tags": [
                    "Prestation Client"
                ],
                "summary": "Demander une prestation",
                "operationId": "09d910946c65d2180fcf8aa4edff5e35",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "client_id": {
                                        "type": "integer"
                                    },
                                    "prestation_id": {
                                        "type": "integer"
                                    },
                                    "prestation_demande": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Prestation envoyé avec succés"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/affichPrestation/{id}": {
            "get": {
                "tags": [
                    "Prestation Client"
                ],
                "summary": "Voir détail d'une prestation",
                "operationId": "d541d02a3718ca4dd5eb87f9ad63a9f2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Afficher la prestation à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès"
                    },
                    "401": {
                        "description": "Non autorisé"
                    }
                }
            }
        },
        "/api/modifPrestation/{prestation}": {
            "post": {
                "tags": [
                    "Prestation Client"
                ],
                "summary": "Modificier une prestation",
                "operationId": "aedac50293d4582454a5eb90bf2a35fd",
                "parameters": [
                    {
                        "name": "prestation",
                        "in": "path",
                        "description": "Modifier une prestation à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "prestation_demande": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Prestation modifiée avec succées"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/supprimPrestation/{id}": {
            "post": {
                "tags": [
                    "Prestation Client"
                ],
                "summary": "Annuler une prestation demandée",
                "operationId": "a9385ecc6bbb652b4a15ac44fdd7d5b5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Annuler une prestation à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/listePrestaService": {
            "get": {
                "tags": [
                    "Prestation de service"
                ],
                "summary": "liste de toutes les prestations de service",
                "operationId": "43a5380023113184f72ae75ae09f2b4c",
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                }
            }
        },
        "/api/ajoutPrestaService": {
            "post": {
                "tags": [
                    "Prestation de service"
                ],
                "summary": "Ajouter un profil prestataire",
                "operationId": "2f1ce5f884b8f665be38a6a9c501b092",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "nomService": {
                                        "type": "string"
                                    },
                                    "image": {
                                        "description": "Fichier de photo",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "presentation": {
                                        "type": "string"
                                    },
                                    "disponibilte": {
                                        "type": "boolean"
                                    },
                                    "experience": {
                                        "type": "string"
                                    },
                                    "competence": {
                                        "type": "string"
                                    },
                                    "motivation": {
                                        "type": "string"
                                    },
                                    "prestataire_id": {
                                        "type": "integer"
                                    },
                                    "categorie_id": {
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Profil ajoutée avec succées"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/affichPrestaService/{id}": {
            "get": {
                "tags": [
                    "Prestation de service"
                ],
                "summary": "Voir un profil",
                "operationId": "834dda159bd38dac925275229b9e9860",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Profil à afficher à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès"
                    },
                    "401": {
                        "description": "Non autorisé"
                    }
                }
            }
        },
        "/api/modifPrestaService/{prestatationservice}": {
            "post": {
                "tags": [
                    "Prestation de service"
                ],
                "summary": "Modificier profil prestataire",
                "operationId": "3935bc9967af536a7dbd5dfd8596b6bf",
                "parameters": [
                    {
                        "name": "prestatationservice",
                        "in": "path",
                        "description": "Modifier le profil à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "nomService": {
                                        "type": "string"
                                    },
                                    "image": {
                                        "description": "Fichier de photo",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "presentation": {
                                        "type": "string"
                                    },
                                    "disponibilte": {
                                        "type": "boolean"
                                    },
                                    "experience": {
                                        "type": "string"
                                    },
                                    "competence": {
                                        "type": "string"
                                    },
                                    "motivation": {
                                        "type": "string"
                                    },
                                    "prestataire_id": {
                                        "type": "integer"
                                    },
                                    "categorie_id": {
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Prestation de service modifiée avec succés"
                    },
                    "401": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/supprimPrestaService/{id}": {
            "post": {
                "tags": [
                    "Prestation de service"
                ],
                "summary": "Supprimer profil prestataire",
                "operationId": "038f76b10ba0b5a3539ce2d0725fef52",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Suppression du profil à partir de l'id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "succes"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    }
}